[gd_scene load_steps=8 format=3 uid="uid://c3kdff65tnyxu"]

[ext_resource type="Texture2D" uid="uid://btl25vexu0nyx" path="res://icon.svg" id="1_dtscj"]
[ext_resource type="Script" uid="uid://cas1vuvfuctsr" path="res://game/rollercoaster/rollercoaster.gd" id="1_fpfh7"]
[ext_resource type="Script" uid="uid://c03h3xluod86s" path="res://game/state_machine/state_machine.gd" id="3_nmpxg"]
[ext_resource type="Script" uid="uid://cgxc1m8epbsvj" path="res://game/rollercoaster/states/stopped_state.gd" id="4_8bbrx"]
[ext_resource type="Script" uid="uid://bvpch57cprwa7" path="res://game/rollercoaster/states/moving_state.gd" id="5_1ove5"]

[sub_resource type="SpriteFrames" id="SpriteFrames_fpfh7"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_dtscj")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nmpxg"]
size = Vector2(26, 26)

[node name="Rollercoaster" type="RigidBody2D" node_paths=PackedStringArray("state_machine", "animations")]
collision_layer = 2
script = ExtResource("1_fpfh7")
state_machine = NodePath("StateMachine")
animations = NodePath("AnimatedSprite2D")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
scale = Vector2(0.2, 0.2)
sprite_frames = SubResource("SpriteFrames_fpfh7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_nmpxg")

[node name="StateMachine" type="Node2D" parent="." node_paths=PackedStringArray("starting_state")]
script = ExtResource("3_nmpxg")
starting_state = NodePath("MovingState")

[node name="StoppedState" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("moving_state")]
script = ExtResource("4_8bbrx")
moving_state = NodePath("../MovingState")

[node name="MovingState" type="Node2D" parent="StateMachine" node_paths=PackedStringArray("stopped_state")]
script = ExtResource("5_1ove5")
stopped_state = NodePath("../StoppedState")
